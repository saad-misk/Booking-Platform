2025-01-30 23:33:11.347 +02:00 [INF] User profile is available. Using 'C:\Users\user\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-01-30 23:33:11.854 +02:00 [INF] Now listening on: http://localhost:5136
2025-01-30 23:33:12.576 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-01-30 23:33:12.687 +02:00 [INF] Hosting environment: Development
2025-01-30 23:33:12.710 +02:00 [INF] Content root path: C:\Users\user\Documents\Final Project\TheProject!\BookingPlatform\BookingPlatform.API
2025-01-30 23:33:26.501 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5136/ - null null
2025-01-30 23:33:26.675 +02:00 [WRN] Failed to determine the https port for redirect.
2025-01-30 23:33:26.797 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5136/ - 404 0 null 330.4577ms
2025-01-30 23:33:26.828 +02:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5136/, Response status code: 404
2025-01-30 23:33:32.025 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5136/swagger - null null
2025-01-30 23:33:32.047 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5136/swagger - 301 0 null 21.9023ms
2025-01-30 23:33:32.408 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5136/swagger/index.html - null null
2025-01-30 23:33:32.701 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5136/swagger/index.html - 200 null text/html;charset=utf-8 293.1193ms
2025-01-30 23:33:32.742 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5136/swagger/swagger-ui.css - null null
2025-01-30 23:33:32.746 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5136/swagger/swagger-ui-bundle.js - null null
2025-01-30 23:33:32.769 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5136/swagger/swagger-ui-standalone-preset.js - null null
2025-01-30 23:33:32.797 +02:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2025-01-30 23:33:32.826 +02:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2025-01-30 23:33:32.831 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5136/swagger/swagger-ui-standalone-preset.js - 200 339486 text/javascript 61.6024ms
2025-01-30 23:33:32.827 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5136/swagger/swagger-ui.css - 200 143943 text/css 84.5491ms
2025-01-30 23:33:32.872 +02:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2025-01-30 23:33:32.874 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5136/swagger/swagger-ui-bundle.js - 200 1096145 text/javascript 128.6596ms
2025-01-30 23:33:33.112 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5136/swagger/v1/swagger.json - null null
2025-01-30 23:33:33.169 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5136/swagger/favicon-32x32.png - null null
2025-01-30 23:33:33.172 +02:00 [INF] Sending file. Request path: '/favicon-32x32.png'. Physical path: 'N/A'
2025-01-30 23:33:33.176 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5136/swagger/favicon-32x32.png - 200 628 image/png 7.5927ms
2025-01-30 23:33:33.476 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5136/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 364.246ms
2025-01-30 23:34:24.130 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5136/api/auth/register - application/json 102
2025-01-30 23:34:24.142 +02:00 [INF] Executing endpoint 'BookingPlatform.API.Controllers.AuthController.Register (BookingPlatform.API)'
2025-01-30 23:34:24.184 +02:00 [INF] Route matched with {action = "Register", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(BookingPlatform.Application.DTOs.Auth.RegisterRequest, System.Threading.CancellationToken) on controller BookingPlatform.API.Controllers.AuthController (BookingPlatform.API).
2025-01-30 23:34:26.343 +02:00 [WRN] The foreign key property 'Image.CityId1' was created in shadow state because a conflicting property with the simple name 'CityId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2025-01-30 23:34:26.349 +02:00 [WRN] The foreign key property 'Image.HotelId1' was created in shadow state because a conflicting property with the simple name 'HotelId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2025-01-30 23:34:26.391 +02:00 [WRN] No store type was specified for the decimal property 'TotalPrice' on entity type 'Booking'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-01-30 23:34:26.395 +02:00 [WRN] No store type was specified for the decimal property 'Amount' on entity type 'Payment'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-01-30 23:34:26.547 +02:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-01-30 23:34:26.579 +02:00 [INF] Executed action BookingPlatform.API.Controllers.AuthController.Register (BookingPlatform.API) in 2384.6141ms
2025-01-30 23:34:26.581 +02:00 [INF] Executed endpoint 'BookingPlatform.API.Controllers.AuthController.Register (BookingPlatform.API)'
2025-01-30 23:34:26.590 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5136/api/auth/register - 400 null application/problem+json; charset=utf-8 2460.1785ms
2025-01-30 23:34:48.203 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5136/api/auth/register - application/json 103
2025-01-30 23:34:48.243 +02:00 [INF] Executing endpoint 'BookingPlatform.API.Controllers.AuthController.Register (BookingPlatform.API)'
2025-01-30 23:34:48.245 +02:00 [INF] Route matched with {action = "Register", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(BookingPlatform.Application.DTOs.Auth.RegisterRequest, System.Threading.CancellationToken) on controller BookingPlatform.API.Controllers.AuthController (BookingPlatform.API).
2025-01-30 23:34:49.579 +02:00 [ERR] Failed executing DbCommand (145ms) [Parameters=[@__email_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserId], [u].[CreatedAtUtc], [u].[Email], [u].[FirstName], [u].[LastName], [u].[PasswordHash], [u].[Role], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[Email] = @__email_0
2025-01-30 23:34:49.621 +02:00 [ERR] An exception occurred while iterating over the results of a query for context type 'BookingPlatform.Infrastructure.Persistence.DBContext.AppDbContext'.
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid object name 'Users'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.<>c__DisplayClass30_0`2.<<ExecuteAsync>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:2558ac87-3c70-4cfd-af81-92847caabb98
Error Number:208,State:1,Class:16
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid object name 'Users'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.<>c__DisplayClass30_0`2.<<ExecuteAsync>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:2558ac87-3c70-4cfd-af81-92847caabb98
Error Number:208,State:1,Class:16
2025-01-30 23:34:49.661 +02:00 [INF] Executed action BookingPlatform.API.Controllers.AuthController.Register (BookingPlatform.API) in 1412.581ms
2025-01-30 23:34:49.664 +02:00 [INF] Executed endpoint 'BookingPlatform.API.Controllers.AuthController.Register (BookingPlatform.API)'
2025-01-30 23:34:49.670 +02:00 [ERR] Request failed: POST /api/auth/register
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid object name 'Users'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.<>c__DisplayClass30_0`2.<<ExecuteAsync>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at BookingPlatform.Infrastructure.Persistence.Repositories.UserRepository.FindByEmailAsync(String email, CancellationToken cancellationToken) in C:\Users\user\Documents\Final Project\TheProject!\BookingPlatform\BookingPlatform.Infrastructure\Persistence\Repositories\UserRepository.cs:line 28
   at BookingPlatform.Infrastructure.Services.AuthenticationService.EnsureEmailIsUniqueAsync(String email, CancellationToken cancellationToken) in C:\Users\user\Documents\Final Project\TheProject!\BookingPlatform\BookingPlatform.Infrastructure\Services\AuthenticationService.cs:line 89
   at BookingPlatform.Infrastructure.Services.AuthenticationService.RegisterAsync(String firstName, String lastName, String email, String password, CancellationToken cancellationToken) in C:\Users\user\Documents\Final Project\TheProject!\BookingPlatform\BookingPlatform.Infrastructure\Services\AuthenticationService.cs:line 63
   at BookingPlatform.API.Controllers.AuthController.Register(RegisterRequest request, CancellationToken cancellationToken) in C:\Users\user\Documents\Final Project\TheProject!\BookingPlatform\BookingPlatform.API\Controllers\AuthController.cs:line 44
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at BookingPlatform.API.Middlewares.RequestLoggingMiddleware.InvokeAsync(HttpContext context) in C:\Users\user\Documents\Final Project\TheProject!\BookingPlatform\BookingPlatform.API\Middlewares\RequestLoggingMiddleware.cs:line 45
ClientConnectionId:2558ac87-3c70-4cfd-af81-92847caabb98
Error Number:208,State:1,Class:16
2025-01-30 23:34:49.783 +02:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid object name 'Users'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.<>c__DisplayClass30_0`2.<<ExecuteAsync>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at BookingPlatform.Infrastructure.Persistence.Repositories.UserRepository.FindByEmailAsync(String email, CancellationToken cancellationToken) in C:\Users\user\Documents\Final Project\TheProject!\BookingPlatform\BookingPlatform.Infrastructure\Persistence\Repositories\UserRepository.cs:line 28
   at BookingPlatform.Infrastructure.Services.AuthenticationService.EnsureEmailIsUniqueAsync(String email, CancellationToken cancellationToken) in C:\Users\user\Documents\Final Project\TheProject!\BookingPlatform\BookingPlatform.Infrastructure\Services\AuthenticationService.cs:line 89
   at BookingPlatform.Infrastructure.Services.AuthenticationService.RegisterAsync(String firstName, String lastName, String email, String password, CancellationToken cancellationToken) in C:\Users\user\Documents\Final Project\TheProject!\BookingPlatform\BookingPlatform.Infrastructure\Services\AuthenticationService.cs:line 63
   at BookingPlatform.API.Controllers.AuthController.Register(RegisterRequest request, CancellationToken cancellationToken) in C:\Users\user\Documents\Final Project\TheProject!\BookingPlatform\BookingPlatform.API\Controllers\AuthController.cs:line 44
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at BookingPlatform.API.Middlewares.RequestLoggingMiddleware.InvokeAsync(HttpContext context) in C:\Users\user\Documents\Final Project\TheProject!\BookingPlatform\BookingPlatform.API\Middlewares\RequestLoggingMiddleware.cs:line 45
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
ClientConnectionId:2558ac87-3c70-4cfd-af81-92847caabb98
Error Number:208,State:1,Class:16
2025-01-30 23:34:49.845 +02:00 [ERR] Exception: Invalid object name 'Users'. (Trace: 00-83cab41d9e8a87d66d4c4da040fdf7f6-0633bec7b4cbd445-00)
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid object name 'Users'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.<>c__DisplayClass30_0`2.<<ExecuteAsync>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at BookingPlatform.Infrastructure.Persistence.Repositories.UserRepository.FindByEmailAsync(String email, CancellationToken cancellationToken) in C:\Users\user\Documents\Final Project\TheProject!\BookingPlatform\BookingPlatform.Infrastructure\Persistence\Repositories\UserRepository.cs:line 28
   at BookingPlatform.Infrastructure.Services.AuthenticationService.EnsureEmailIsUniqueAsync(String email, CancellationToken cancellationToken) in C:\Users\user\Documents\Final Project\TheProject!\BookingPlatform\BookingPlatform.Infrastructure\Services\AuthenticationService.cs:line 89
   at BookingPlatform.Infrastructure.Services.AuthenticationService.RegisterAsync(String firstName, String lastName, String email, String password, CancellationToken cancellationToken) in C:\Users\user\Documents\Final Project\TheProject!\BookingPlatform\BookingPlatform.Infrastructure\Services\AuthenticationService.cs:line 63
   at BookingPlatform.API.Controllers.AuthController.Register(RegisterRequest request, CancellationToken cancellationToken) in C:\Users\user\Documents\Final Project\TheProject!\BookingPlatform\BookingPlatform.API\Controllers\AuthController.cs:line 44
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at BookingPlatform.API.Middlewares.RequestLoggingMiddleware.InvokeAsync(HttpContext context) in C:\Users\user\Documents\Final Project\TheProject!\BookingPlatform\BookingPlatform.API\Middlewares\RequestLoggingMiddleware.cs:line 45
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
ClientConnectionId:2558ac87-3c70-4cfd-af81-92847caabb98
Error Number:208,State:1,Class:16
2025-01-30 23:34:49.923 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5136/api/auth/register - 500 null application/json; charset=utf-8 1719.9266ms
2025-01-30 23:43:58.173 +02:00 [INF] Application is shutting down...
2025-01-31 00:06:16.520 +02:00 [INF] User profile is available. Using 'C:\Users\user\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-01-31 00:06:16.667 +02:00 [INF] Now listening on: http://localhost:5136
2025-01-31 00:06:16.674 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-01-31 00:06:16.675 +02:00 [INF] Hosting environment: Development
2025-01-31 00:06:16.675 +02:00 [INF] Content root path: C:\Users\user\Documents\Final Project\TheProject!\BookingPlatform\BookingPlatform.API
2025-01-31 00:06:33.240 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5136/swagger/index.html - null null
2025-01-31 00:06:33.600 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5136/swagger/index.html - 200 null text/html;charset=utf-8 364.9806ms
2025-01-31 00:06:34.503 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5136/swagger/v1/swagger.json - null null
2025-01-31 00:06:34.896 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5136/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 393.6579ms
2025-01-31 00:07:04.055 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5136/api/auth/register - application/json 101
2025-01-31 00:07:04.085 +02:00 [WRN] Failed to determine the https port for redirect.
2025-01-31 00:07:04.168 +02:00 [INF] Executing endpoint 'BookingPlatform.API.Controllers.AuthController.Register (BookingPlatform.API)'
2025-01-31 00:07:04.215 +02:00 [INF] Route matched with {action = "Register", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(BookingPlatform.Application.DTOs.Auth.RegisterRequest, System.Threading.CancellationToken) on controller BookingPlatform.API.Controllers.AuthController (BookingPlatform.API).
2025-01-31 00:07:05.407 +02:00 [WRN] The foreign key property 'Image.HotelId1' was created in shadow state because a conflicting property with the simple name 'HotelId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2025-01-31 00:07:05.447 +02:00 [WRN] No store type was specified for the decimal property 'TotalPrice' on entity type 'Booking'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-01-31 00:07:05.450 +02:00 [WRN] No store type was specified for the decimal property 'Amount' on entity type 'Payment'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-01-31 00:07:06.607 +02:00 [ERR] Failed executing DbCommand (81ms) [Parameters=[@__email_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserId], [u].[CreatedAtUtc], [u].[Email], [u].[FirstName], [u].[LastName], [u].[PasswordHash], [u].[Role], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[Email] = @__email_0
2025-01-31 00:07:06.647 +02:00 [ERR] An exception occurred while iterating over the results of a query for context type 'BookingPlatform.Infrastructure.Persistence.DBContext.AppDbContext'.
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid object name 'Users'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.<>c__DisplayClass30_0`2.<<ExecuteAsync>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:ed3572d4-31b2-44c8-b5c5-8c5bbdbe5d12
Error Number:208,State:1,Class:16
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid object name 'Users'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.<>c__DisplayClass30_0`2.<<ExecuteAsync>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:ed3572d4-31b2-44c8-b5c5-8c5bbdbe5d12
Error Number:208,State:1,Class:16
2025-01-31 00:07:06.696 +02:00 [INF] Executed action BookingPlatform.API.Controllers.AuthController.Register (BookingPlatform.API) in 2471.027ms
2025-01-31 00:07:06.700 +02:00 [INF] Executed endpoint 'BookingPlatform.API.Controllers.AuthController.Register (BookingPlatform.API)'
2025-01-31 00:07:06.707 +02:00 [ERR] Request failed: POST /api/auth/register
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid object name 'Users'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.<>c__DisplayClass30_0`2.<<ExecuteAsync>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at BookingPlatform.Infrastructure.Persistence.Repositories.UserRepository.FindByEmailAsync(String email, CancellationToken cancellationToken) in C:\Users\user\Documents\Final Project\TheProject!\BookingPlatform\BookingPlatform.Infrastructure\Persistence\Repositories\UserRepository.cs:line 28
   at BookingPlatform.Infrastructure.Services.AuthenticationService.EnsureEmailIsUniqueAsync(String email, CancellationToken cancellationToken) in C:\Users\user\Documents\Final Project\TheProject!\BookingPlatform\BookingPlatform.Infrastructure\Services\AuthenticationService.cs:line 89
   at BookingPlatform.Infrastructure.Services.AuthenticationService.RegisterAsync(String firstName, String lastName, String email, String password, CancellationToken cancellationToken) in C:\Users\user\Documents\Final Project\TheProject!\BookingPlatform\BookingPlatform.Infrastructure\Services\AuthenticationService.cs:line 63
   at BookingPlatform.API.Controllers.AuthController.Register(RegisterRequest request, CancellationToken cancellationToken) in C:\Users\user\Documents\Final Project\TheProject!\BookingPlatform\BookingPlatform.API\Controllers\AuthController.cs:line 44
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at BookingPlatform.API.Middlewares.RequestLoggingMiddleware.InvokeAsync(HttpContext context) in C:\Users\user\Documents\Final Project\TheProject!\BookingPlatform\BookingPlatform.API\Middlewares\RequestLoggingMiddleware.cs:line 45
ClientConnectionId:ed3572d4-31b2-44c8-b5c5-8c5bbdbe5d12
Error Number:208,State:1,Class:16
2025-01-31 00:07:07.139 +02:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid object name 'Users'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.<>c__DisplayClass30_0`2.<<ExecuteAsync>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at BookingPlatform.Infrastructure.Persistence.Repositories.UserRepository.FindByEmailAsync(String email, CancellationToken cancellationToken) in C:\Users\user\Documents\Final Project\TheProject!\BookingPlatform\BookingPlatform.Infrastructure\Persistence\Repositories\UserRepository.cs:line 28
   at BookingPlatform.Infrastructure.Services.AuthenticationService.EnsureEmailIsUniqueAsync(String email, CancellationToken cancellationToken) in C:\Users\user\Documents\Final Project\TheProject!\BookingPlatform\BookingPlatform.Infrastructure\Services\AuthenticationService.cs:line 89
   at BookingPlatform.Infrastructure.Services.AuthenticationService.RegisterAsync(String firstName, String lastName, String email, String password, CancellationToken cancellationToken) in C:\Users\user\Documents\Final Project\TheProject!\BookingPlatform\BookingPlatform.Infrastructure\Services\AuthenticationService.cs:line 63
   at BookingPlatform.API.Controllers.AuthController.Register(RegisterRequest request, CancellationToken cancellationToken) in C:\Users\user\Documents\Final Project\TheProject!\BookingPlatform\BookingPlatform.API\Controllers\AuthController.cs:line 44
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at BookingPlatform.API.Middlewares.RequestLoggingMiddleware.InvokeAsync(HttpContext context) in C:\Users\user\Documents\Final Project\TheProject!\BookingPlatform\BookingPlatform.API\Middlewares\RequestLoggingMiddleware.cs:line 45
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
ClientConnectionId:ed3572d4-31b2-44c8-b5c5-8c5bbdbe5d12
Error Number:208,State:1,Class:16
2025-01-31 00:07:07.205 +02:00 [ERR] Exception: Invalid object name 'Users'. (Trace: 00-5fa7c777772a1cbb53f3a316208f9422-e7c1235c9aae373e-00)
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid object name 'Users'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.<>c__DisplayClass30_0`2.<<ExecuteAsync>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at BookingPlatform.Infrastructure.Persistence.Repositories.UserRepository.FindByEmailAsync(String email, CancellationToken cancellationToken) in C:\Users\user\Documents\Final Project\TheProject!\BookingPlatform\BookingPlatform.Infrastructure\Persistence\Repositories\UserRepository.cs:line 28
   at BookingPlatform.Infrastructure.Services.AuthenticationService.EnsureEmailIsUniqueAsync(String email, CancellationToken cancellationToken) in C:\Users\user\Documents\Final Project\TheProject!\BookingPlatform\BookingPlatform.Infrastructure\Services\AuthenticationService.cs:line 89
   at BookingPlatform.Infrastructure.Services.AuthenticationService.RegisterAsync(String firstName, String lastName, String email, String password, CancellationToken cancellationToken) in C:\Users\user\Documents\Final Project\TheProject!\BookingPlatform\BookingPlatform.Infrastructure\Services\AuthenticationService.cs:line 63
   at BookingPlatform.API.Controllers.AuthController.Register(RegisterRequest request, CancellationToken cancellationToken) in C:\Users\user\Documents\Final Project\TheProject!\BookingPlatform\BookingPlatform.API\Controllers\AuthController.cs:line 44
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at BookingPlatform.API.Middlewares.RequestLoggingMiddleware.InvokeAsync(HttpContext context) in C:\Users\user\Documents\Final Project\TheProject!\BookingPlatform\BookingPlatform.API\Middlewares\RequestLoggingMiddleware.cs:line 45
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
ClientConnectionId:ed3572d4-31b2-44c8-b5c5-8c5bbdbe5d12
Error Number:208,State:1,Class:16
2025-01-31 00:07:07.323 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5136/api/auth/register - 500 null application/json; charset=utf-8 3268.4805ms
2025-01-31 00:11:43.157 +02:00 [INF] Application is shutting down...
2025-01-31 00:41:55.495 +02:00 [INF] User profile is available. Using 'C:\Users\user\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-01-31 00:41:55.655 +02:00 [INF] Now listening on: http://localhost:5136
2025-01-31 00:41:55.662 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-01-31 00:41:55.663 +02:00 [INF] Hosting environment: Development
2025-01-31 00:41:55.663 +02:00 [INF] Content root path: C:\Users\user\Documents\Final Project\TheProject!\BookingPlatform\BookingPlatform.API
2025-01-31 00:41:58.163 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5136/swagger/index.html - null null
2025-01-31 00:41:58.498 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5136/swagger/index.html - 200 null text/html;charset=utf-8 340.0643ms
2025-01-31 00:41:59.191 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5136/swagger/v1/swagger.json - null null
2025-01-31 00:41:59.713 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5136/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 523.1573ms
2025-01-31 00:42:21.691 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5136/api/auth/register - application/json 101
2025-01-31 00:42:21.720 +02:00 [WRN] Failed to determine the https port for redirect.
2025-01-31 00:42:21.797 +02:00 [INF] Executing endpoint 'BookingPlatform.API.Controllers.AuthController.Register (BookingPlatform.API)'
2025-01-31 00:42:21.834 +02:00 [INF] Route matched with {action = "Register", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(BookingPlatform.Application.DTOs.Auth.RegisterRequest, System.Threading.CancellationToken) on controller BookingPlatform.API.Controllers.AuthController (BookingPlatform.API).
2025-01-31 00:42:23.056 +02:00 [WRN] No store type was specified for the decimal property 'TotalPrice' on entity type 'Booking'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-01-31 00:42:23.059 +02:00 [WRN] No store type was specified for the decimal property 'Amount' on entity type 'Payment'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-01-31 00:42:24.373 +02:00 [INF] Executed DbCommand (107ms) [Parameters=[@__email_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserId], [u].[CreatedAtUtc], [u].[Email], [u].[FirstName], [u].[LastName], [u].[PasswordHash], [u].[Role], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[Email] = @__email_0
2025-01-31 00:42:24.812 +02:00 [INF] User test@test.com registered successfully
2025-01-31 00:42:24.822 +02:00 [INF] Executing OkObjectResult, writing value of type 'BookingPlatform.Application.DTOs.Auth.AuthResponse'.
2025-01-31 00:42:24.853 +02:00 [INF] Executed action BookingPlatform.API.Controllers.AuthController.Register (BookingPlatform.API) in 3010.9196ms
2025-01-31 00:42:24.856 +02:00 [INF] Executed endpoint 'BookingPlatform.API.Controllers.AuthController.Register (BookingPlatform.API)'
2025-01-31 00:42:25.019 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5136/api/auth/register - 200 null application/json; charset=utf-8 3328.3833ms
2025-01-31 00:43:16.799 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5136/api/auth/login - application/json 54
2025-01-31 00:43:16.835 +02:00 [INF] Executing endpoint 'BookingPlatform.API.Controllers.AuthController.Login (BookingPlatform.API)'
2025-01-31 00:43:16.842 +02:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(BookingPlatform.Application.DTOs.Auth.LoginRequest, System.Threading.CancellationToken) on controller BookingPlatform.API.Controllers.AuthController (BookingPlatform.API).
2025-01-31 00:43:16.949 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@__email_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserId], [u].[CreatedAtUtc], [u].[Email], [u].[FirstName], [u].[LastName], [u].[PasswordHash], [u].[Role], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[Email] = @__email_0
2025-01-31 00:43:16.958 +02:00 [INF] Executed action BookingPlatform.API.Controllers.AuthController.Login (BookingPlatform.API) in 109.0874ms
2025-01-31 00:43:16.966 +02:00 [INF] Executed endpoint 'BookingPlatform.API.Controllers.AuthController.Login (BookingPlatform.API)'
2025-01-31 00:43:16.968 +02:00 [ERR] Request failed: POST /api/auth/login
BookingPlatform.Domain.Exceptions.UserNotFoundException: User not found. Invalid credentials.
   at BookingPlatform.Infrastructure.Services.AuthenticationService.GetUserByEmailAsync(String email, CancellationToken cancellationToken) in C:\Users\user\Documents\Final Project\TheProject!\BookingPlatform\BookingPlatform.Infrastructure\Services\AuthenticationService.cs:line 82
   at BookingPlatform.Infrastructure.Services.AuthenticationService.LoginAsync(String email, String password, CancellationToken cancellationToken) in C:\Users\user\Documents\Final Project\TheProject!\BookingPlatform\BookingPlatform.Infrastructure\Services\AuthenticationService.cs:line 38
   at BookingPlatform.API.Controllers.AuthController.Login(LoginRequest request, CancellationToken cancellationToken) in C:\Users\user\Documents\Final Project\TheProject!\BookingPlatform\BookingPlatform.API\Controllers\AuthController.cs:line 73
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at BookingPlatform.API.Middlewares.RequestLoggingMiddleware.InvokeAsync(HttpContext context) in C:\Users\user\Documents\Final Project\TheProject!\BookingPlatform\BookingPlatform.API\Middlewares\RequestLoggingMiddleware.cs:line 45
2025-01-31 00:43:17.079 +02:00 [ERR] An unhandled exception has occurred while executing the request.
BookingPlatform.Domain.Exceptions.UserNotFoundException: User not found. Invalid credentials.
   at BookingPlatform.Infrastructure.Services.AuthenticationService.GetUserByEmailAsync(String email, CancellationToken cancellationToken) in C:\Users\user\Documents\Final Project\TheProject!\BookingPlatform\BookingPlatform.Infrastructure\Services\AuthenticationService.cs:line 82
   at BookingPlatform.Infrastructure.Services.AuthenticationService.LoginAsync(String email, String password, CancellationToken cancellationToken) in C:\Users\user\Documents\Final Project\TheProject!\BookingPlatform\BookingPlatform.Infrastructure\Services\AuthenticationService.cs:line 38
   at BookingPlatform.API.Controllers.AuthController.Login(LoginRequest request, CancellationToken cancellationToken) in C:\Users\user\Documents\Final Project\TheProject!\BookingPlatform\BookingPlatform.API\Controllers\AuthController.cs:line 73
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at BookingPlatform.API.Middlewares.RequestLoggingMiddleware.InvokeAsync(HttpContext context) in C:\Users\user\Documents\Final Project\TheProject!\BookingPlatform\BookingPlatform.API\Middlewares\RequestLoggingMiddleware.cs:line 45
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-01-31 00:43:17.125 +02:00 [WRN] Exception: User not found. Invalid credentials. (Trace: 00-f45bcc84ded26a311b9e93385b6273e9-a0a2f4095a30a5d8-00)
BookingPlatform.Domain.Exceptions.UserNotFoundException: User not found. Invalid credentials.
   at BookingPlatform.Infrastructure.Services.AuthenticationService.GetUserByEmailAsync(String email, CancellationToken cancellationToken) in C:\Users\user\Documents\Final Project\TheProject!\BookingPlatform\BookingPlatform.Infrastructure\Services\AuthenticationService.cs:line 82
   at BookingPlatform.Infrastructure.Services.AuthenticationService.LoginAsync(String email, String password, CancellationToken cancellationToken) in C:\Users\user\Documents\Final Project\TheProject!\BookingPlatform\BookingPlatform.Infrastructure\Services\AuthenticationService.cs:line 38
   at BookingPlatform.API.Controllers.AuthController.Login(LoginRequest request, CancellationToken cancellationToken) in C:\Users\user\Documents\Final Project\TheProject!\BookingPlatform\BookingPlatform.API\Controllers\AuthController.cs:line 73
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at BookingPlatform.API.Middlewares.RequestLoggingMiddleware.InvokeAsync(HttpContext context) in C:\Users\user\Documents\Final Project\TheProject!\BookingPlatform\BookingPlatform.API\Middlewares\RequestLoggingMiddleware.cs:line 45
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-01-31 00:43:17.195 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5136/api/auth/login - 500 null application/json; charset=utf-8 395.7774ms
2025-01-31 00:43:36.382 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5136/api/auth/login - application/json 56
2025-01-31 00:43:36.388 +02:00 [INF] Executing endpoint 'BookingPlatform.API.Controllers.AuthController.Login (BookingPlatform.API)'
2025-01-31 00:43:36.404 +02:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(BookingPlatform.Application.DTOs.Auth.LoginRequest, System.Threading.CancellationToken) on controller BookingPlatform.API.Controllers.AuthController (BookingPlatform.API).
2025-01-31 00:43:36.459 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__email_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserId], [u].[CreatedAtUtc], [u].[Email], [u].[FirstName], [u].[LastName], [u].[PasswordHash], [u].[Role], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[Email] = @__email_0
2025-01-31 00:43:36.468 +02:00 [INF] Executed action BookingPlatform.API.Controllers.AuthController.Login (BookingPlatform.API) in 52.7003ms
2025-01-31 00:43:36.471 +02:00 [INF] Executed endpoint 'BookingPlatform.API.Controllers.AuthController.Login (BookingPlatform.API)'
2025-01-31 00:43:36.472 +02:00 [ERR] Request failed: POST /api/auth/login
BookingPlatform.Domain.Exceptions.UserNotFoundException: User not found. Invalid credentials.
   at BookingPlatform.Infrastructure.Services.AuthenticationService.GetUserByEmailAsync(String email, CancellationToken cancellationToken) in C:\Users\user\Documents\Final Project\TheProject!\BookingPlatform\BookingPlatform.Infrastructure\Services\AuthenticationService.cs:line 82
   at BookingPlatform.Infrastructure.Services.AuthenticationService.LoginAsync(String email, String password, CancellationToken cancellationToken) in C:\Users\user\Documents\Final Project\TheProject!\BookingPlatform\BookingPlatform.Infrastructure\Services\AuthenticationService.cs:line 38
   at BookingPlatform.API.Controllers.AuthController.Login(LoginRequest request, CancellationToken cancellationToken) in C:\Users\user\Documents\Final Project\TheProject!\BookingPlatform\BookingPlatform.API\Controllers\AuthController.cs:line 73
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at BookingPlatform.API.Middlewares.RequestLoggingMiddleware.InvokeAsync(HttpContext context) in C:\Users\user\Documents\Final Project\TheProject!\BookingPlatform\BookingPlatform.API\Middlewares\RequestLoggingMiddleware.cs:line 45
2025-01-31 00:43:36.504 +02:00 [ERR] An unhandled exception has occurred while executing the request.
BookingPlatform.Domain.Exceptions.UserNotFoundException: User not found. Invalid credentials.
   at BookingPlatform.Infrastructure.Services.AuthenticationService.GetUserByEmailAsync(String email, CancellationToken cancellationToken) in C:\Users\user\Documents\Final Project\TheProject!\BookingPlatform\BookingPlatform.Infrastructure\Services\AuthenticationService.cs:line 82
   at BookingPlatform.Infrastructure.Services.AuthenticationService.LoginAsync(String email, String password, CancellationToken cancellationToken) in C:\Users\user\Documents\Final Project\TheProject!\BookingPlatform\BookingPlatform.Infrastructure\Services\AuthenticationService.cs:line 38
   at BookingPlatform.API.Controllers.AuthController.Login(LoginRequest request, CancellationToken cancellationToken) in C:\Users\user\Documents\Final Project\TheProject!\BookingPlatform\BookingPlatform.API\Controllers\AuthController.cs:line 73
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at BookingPlatform.API.Middlewares.RequestLoggingMiddleware.InvokeAsync(HttpContext context) in C:\Users\user\Documents\Final Project\TheProject!\BookingPlatform\BookingPlatform.API\Middlewares\RequestLoggingMiddleware.cs:line 45
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-01-31 00:43:36.537 +02:00 [WRN] Exception: User not found. Invalid credentials. (Trace: 00-b96eec64d8a46b0cfbc9498e79e10c80-77a6e161bd10a8d8-00)
BookingPlatform.Domain.Exceptions.UserNotFoundException: User not found. Invalid credentials.
   at BookingPlatform.Infrastructure.Services.AuthenticationService.GetUserByEmailAsync(String email, CancellationToken cancellationToken) in C:\Users\user\Documents\Final Project\TheProject!\BookingPlatform\BookingPlatform.Infrastructure\Services\AuthenticationService.cs:line 82
   at BookingPlatform.Infrastructure.Services.AuthenticationService.LoginAsync(String email, String password, CancellationToken cancellationToken) in C:\Users\user\Documents\Final Project\TheProject!\BookingPlatform\BookingPlatform.Infrastructure\Services\AuthenticationService.cs:line 38
   at BookingPlatform.API.Controllers.AuthController.Login(LoginRequest request, CancellationToken cancellationToken) in C:\Users\user\Documents\Final Project\TheProject!\BookingPlatform\BookingPlatform.API\Controllers\AuthController.cs:line 73
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at BookingPlatform.API.Middlewares.RequestLoggingMiddleware.InvokeAsync(HttpContext context) in C:\Users\user\Documents\Final Project\TheProject!\BookingPlatform\BookingPlatform.API\Middlewares\RequestLoggingMiddleware.cs:line 45
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-01-31 00:43:36.568 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5136/api/auth/login - 500 null application/json; charset=utf-8 185.82ms
2025-01-31 00:43:44.107 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5136/api/auth/login - application/json 56
2025-01-31 00:43:44.142 +02:00 [INF] Executing endpoint 'BookingPlatform.API.Controllers.AuthController.Login (BookingPlatform.API)'
2025-01-31 00:43:44.143 +02:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(BookingPlatform.Application.DTOs.Auth.LoginRequest, System.Threading.CancellationToken) on controller BookingPlatform.API.Controllers.AuthController (BookingPlatform.API).
2025-01-31 00:43:44.155 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__email_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserId], [u].[CreatedAtUtc], [u].[Email], [u].[FirstName], [u].[LastName], [u].[PasswordHash], [u].[Role], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[Email] = @__email_0
2025-01-31 00:43:44.160 +02:00 [INF] Executed action BookingPlatform.API.Controllers.AuthController.Login (BookingPlatform.API) in 7.617ms
2025-01-31 00:43:44.169 +02:00 [INF] Executed endpoint 'BookingPlatform.API.Controllers.AuthController.Login (BookingPlatform.API)'
2025-01-31 00:43:44.170 +02:00 [ERR] Request failed: POST /api/auth/login
BookingPlatform.Domain.Exceptions.UserNotFoundException: User not found. Invalid credentials.
   at BookingPlatform.Infrastructure.Services.AuthenticationService.GetUserByEmailAsync(String email, CancellationToken cancellationToken) in C:\Users\user\Documents\Final Project\TheProject!\BookingPlatform\BookingPlatform.Infrastructure\Services\AuthenticationService.cs:line 82
   at BookingPlatform.Infrastructure.Services.AuthenticationService.LoginAsync(String email, String password, CancellationToken cancellationToken) in C:\Users\user\Documents\Final Project\TheProject!\BookingPlatform\BookingPlatform.Infrastructure\Services\AuthenticationService.cs:line 38
   at BookingPlatform.API.Controllers.AuthController.Login(LoginRequest request, CancellationToken cancellationToken) in C:\Users\user\Documents\Final Project\TheProject!\BookingPlatform\BookingPlatform.API\Controllers\AuthController.cs:line 73
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at BookingPlatform.API.Middlewares.RequestLoggingMiddleware.InvokeAsync(HttpContext context) in C:\Users\user\Documents\Final Project\TheProject!\BookingPlatform\BookingPlatform.API\Middlewares\RequestLoggingMiddleware.cs:line 45
2025-01-31 00:43:44.202 +02:00 [ERR] An unhandled exception has occurred while executing the request.
BookingPlatform.Domain.Exceptions.UserNotFoundException: User not found. Invalid credentials.
   at BookingPlatform.Infrastructure.Services.AuthenticationService.GetUserByEmailAsync(String email, CancellationToken cancellationToken) in C:\Users\user\Documents\Final Project\TheProject!\BookingPlatform\BookingPlatform.Infrastructure\Services\AuthenticationService.cs:line 82
   at BookingPlatform.Infrastructure.Services.AuthenticationService.LoginAsync(String email, String password, CancellationToken cancellationToken) in C:\Users\user\Documents\Final Project\TheProject!\BookingPlatform\BookingPlatform.Infrastructure\Services\AuthenticationService.cs:line 38
   at BookingPlatform.API.Controllers.AuthController.Login(LoginRequest request, CancellationToken cancellationToken) in C:\Users\user\Documents\Final Project\TheProject!\BookingPlatform\BookingPlatform.API\Controllers\AuthController.cs:line 73
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at BookingPlatform.API.Middlewares.RequestLoggingMiddleware.InvokeAsync(HttpContext context) in C:\Users\user\Documents\Final Project\TheProject!\BookingPlatform\BookingPlatform.API\Middlewares\RequestLoggingMiddleware.cs:line 45
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-01-31 00:43:44.240 +02:00 [WRN] Exception: User not found. Invalid credentials. (Trace: 00-a1fd7f61352b18d1fc03d12d0f3252bc-9d7e9b013ba07168-00)
BookingPlatform.Domain.Exceptions.UserNotFoundException: User not found. Invalid credentials.
   at BookingPlatform.Infrastructure.Services.AuthenticationService.GetUserByEmailAsync(String email, CancellationToken cancellationToken) in C:\Users\user\Documents\Final Project\TheProject!\BookingPlatform\BookingPlatform.Infrastructure\Services\AuthenticationService.cs:line 82
   at BookingPlatform.Infrastructure.Services.AuthenticationService.LoginAsync(String email, String password, CancellationToken cancellationToken) in C:\Users\user\Documents\Final Project\TheProject!\BookingPlatform\BookingPlatform.Infrastructure\Services\AuthenticationService.cs:line 38
   at BookingPlatform.API.Controllers.AuthController.Login(LoginRequest request, CancellationToken cancellationToken) in C:\Users\user\Documents\Final Project\TheProject!\BookingPlatform\BookingPlatform.API\Controllers\AuthController.cs:line 73
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at BookingPlatform.API.Middlewares.RequestLoggingMiddleware.InvokeAsync(HttpContext context) in C:\Users\user\Documents\Final Project\TheProject!\BookingPlatform\BookingPlatform.API\Middlewares\RequestLoggingMiddleware.cs:line 45
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-01-31 00:43:44.277 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5136/api/auth/login - 500 null application/json; charset=utf-8 169.9785ms
2025-01-31 00:44:31.184 +02:00 [INF] Application is shutting down...
